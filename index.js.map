{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '52329840-3cdbe1d1ca17a86ceb553d9b5';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\naxios.defaults.params = {};\naxios.defaults.params['key'] = API_KEY;\n\nexport default function getImagesByQuery(query) {\n  return axios\n    .get('', {\n      params: {\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        per_page: 21,\n      },\n    })\n\n    .then(res => res.data.hits);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst ul = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst gallery = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        tags,\n        likes = 0,\n        views = 0,\n        comments = 0,\n        downloads = 0,\n        webformatURL,\n        largeImageURL,\n      }) => {\n        return `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-origin-img\" href=\"${largeImageURL}\">\n            <img class=\"gallery-prewiew-img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"152\"/>\n            </a>\n            <div class=\"gallery-info-wrapper\">\n              <h4 class=\"gallery-info-item\">Likes<span>${likes}<span></h4>\n              <h4 class=\"gallery-info-item\">Views<span>${views}<span></h4>\n              <h4 class=\"gallery-info-item\">Comments<span>${comments}<span></h4>\n              <h4 class=\"gallery-info-item\">Downloads<span>${downloads}<span></h4>\n            </div>\n        </li>\n        `;\n      }\n    )\n    .join('');\n\n  ul.innerHTML = markup;\n  gallery.refresh();\n}\n\nfunction clearGallery() {\n  ul.innerHTML = '';\n}\n\nfunction showLoader() {\n  loader.classList.remove('hide');\n}\n\nfunction hideLoader() {\n  if (!loader.classList.contains('hide')) {\n    loader.classList.add('hide');\n  }\n}\n\nexport { createGallery, clearGallery, showLoader, hideLoader };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport getImagesByQuery from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', formSubmit);\n\nfunction formSubmit(e) {\n  e.preventDefault();\n\n  const query = String(e.target.elements['search-text'].value.trim());\n  if (!query) {\n    return iziToast.error({\n      icon: '',\n      position: 'topRight',\n      message: 'Please, enter your search query!',\n      timeout: 5000,\n      progressBar: false,\n      close: false,\n      messageColor: 'white',\n    });\n  }\n\n  showLoader();\n  getImagesByQuery(query)\n    .then(res => {\n      if (!res.length) {\n        clearGallery();\n        return iziToast.info({\n          icon: '',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 5000,\n          progressBar: false,\n          close: false,\n          messageColor: 'white',\n        });\n      }\n      createGallery(res);\n      e.target.reset();\n    })\n    .catch(error => {\n      clearGallery();\n\n      return iziToast.error({\n        icon: '',\n        position: 'topRight',\n        message:\n          error.message || 'Something went wrong. Please try again later.',\n\n        timeout: 5000,\n        progressBar: false,\n        close: false,\n        messageColor: 'white',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n"],"names":["API_KEY","axios","getImagesByQuery","query","res","ul","loader","gallery","SimpleLightbox","createGallery","images","markup","tags","likes","views","comments","downloads","webformatURL","largeImageURL","clearGallery","showLoader","hideLoader","form","formSubmit","e","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAU,qCAEhBC,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,OAAS,GACxBA,EAAM,SAAS,OAAO,IAASD,EAEhB,SAASE,EAAiBC,EAAO,CAC9C,OAAOF,EACJ,IAAI,GAAI,CACP,OAAQ,CACN,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACX,CACP,CAAK,EAEA,KAAKC,GAAOA,EAAI,KAAK,IAAI,CAC9B,CClBA,MAAMC,EAAK,SAAS,cAAc,UAAU,EACtCC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,IAAIC,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,KAAAE,EACA,MAAAC,EAAQ,EACR,MAAAC,EAAQ,EACR,SAAAC,EAAW,EACX,UAAAC,EAAY,EACZ,aAAAC,EACA,cAAAC,CACR,IACe;AAAA;AAAA,gDAEiCA,CAAa;AAAA,oDACTD,CAAY,UAAUL,CAAI;AAAA;AAAA;AAAA,yDAGrBC,CAAK;AAAA,yDACLC,CAAK;AAAA,4DACFC,CAAQ;AAAA,6DACPC,CAAS;AAAA;AAAA;AAAA,SAKjE,EACA,KAAK,EAAE,EAEVX,EAAG,UAAYM,EACfJ,EAAQ,QAAO,CACjB,CAEA,SAASY,GAAe,CACtBd,EAAG,UAAY,EACjB,CAEA,SAASe,GAAa,CACpBd,EAAO,UAAU,OAAO,MAAM,CAChC,CAEA,SAASe,GAAa,CACff,EAAO,UAAU,SAAS,MAAM,GACnCA,EAAO,UAAU,IAAI,MAAM,CAE/B,CC7CA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAU,EAE1C,SAASA,EAAWC,EAAG,CACrBA,EAAE,eAAc,EAEhB,MAAMrB,EAAQ,OAAOqB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,KAAI,CAAE,EAClE,GAAI,CAACrB,EACH,OAAOsB,EAAS,MAAM,CACpB,KAAM,GACN,SAAU,WACV,QAAS,mCACT,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,OACpB,CAAK,EAGHL,IACAlB,EAAiBC,CAAK,EACnB,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,OACP,OAAAe,IACOM,EAAS,KAAK,CACnB,KAAM,GACN,SAAU,WACV,QACE,2EACF,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,OACxB,CAAS,EAEHhB,EAAcL,CAAG,EACjBoB,EAAE,OAAO,OACf,CAAK,EACA,MAAME,IACLP,IAEOM,EAAS,MAAM,CACpB,KAAM,GACN,SAAU,WACV,QACEC,EAAM,SAAW,gDAEnB,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,OACtB,CAAO,EACF,EACA,QAAQ,IAAM,CACbL,GACN,CAAK,CACL"}